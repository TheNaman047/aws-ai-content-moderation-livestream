# AWS AI Content Moderation Live Stream PoC-in-a-box: Front-end Web Application

A React-based web dashboard for monitoring and managing AI content moderation on live streams using AWS services.

## Overview

This web application provides a user-friendly interface for:
- Monitoring active live streams with AI content moderation
- Managing content moderation configurations
- Viewing moderation results and analytics
- Real-time dashboard for stream oversight

## Prerequisites

- **Node.js** (version 16 or higher)
- **npm** or **yarn** package manager
- **AWS CLI** configured with appropriate permissions
- **AWS CDK** (if using CDK deployment features)
- Access to AWS services:
  - Amazon Cognito (for authentication)
  - API Gateway (for backend API)
  - S3 (for deployment hosting)

## Installation

1. **Clone the repository and navigate to the web directory:**
   ```bash
   cd web
   ```

2. **Install dependencies:**
   ```bash
   npm install
   ```

## Configuration

1. **Set up environment variables:**
   ```bash
   cp .env-template .env
   ```

2. **Update the `.env` file with your AWS resource values:**
   ```env
   REACT_APP_COGNITO_IDENTITY_POOL_ID=your-identity-pool-id
   REACT_APP_COGNITO_REGION=your-aws-region
   REACT_APP_COGNITO_USER_POOL_ID=your-user-pool-id
   REACT_APP_COGNITO_USER_POOL_CLIENT_ID=your-user-pool-client-id
   REACT_APP_APIGATEWAY_BASE_URL=https://your-api-gateway-url
   ```

3. **Configure AWS Amplify (if needed):**
   - Ensure `src/aws-exports.js` is properly configured
   - This file is typically generated by AWS Amplify CLI

## Running the Application

### Development Mode
```bash
npm start
```
- Opens the app in development mode at `http://localhost:3000`
- The page will reload when you make edits
- You'll see any lint errors in the console

### Production Build
```bash
npm run build
```
- Builds the app for production in the `build` folder
- Optimizes the build for best performance
- Files are minified and ready for deployment

## Deployment

### Manual S3 Deployment
1. **Build the application**
   ```bash
   npm run build
   ```

2. **Deploy to S3**
   ```bash
   aws s3 sync build/ s3://your-bucket-name --delete
   ```
   
   Optional: Set public read permissions (if not handled by bucket policy)
   ```bash
   aws s3 sync build/ s3://your-bucket-name --delete --acl public-read
   ```

3. **Invalidate CloudFront cache**
   ```bash
   aws cloudfront create-invalidation --distribution-id YOUR_DISTRIBUTION_ID --paths "/*"
   ```

## Project Structure

```
web/
├── public/                 # Static assets
├── src/
│   ├── components/         # React components
│   │   ├── activeStreams/  # Stream monitoring components
│   │   ├── configManager/  # Configuration management
│   │   ├── overview/       # Dashboard overview
│   │   └── commons/        # Shared components
│   ├── static/            # Images and static files
│   ├── App.js             # Main application component
│   ├── index.js           # Application entry point
│   └── aws-exports.js     # AWS Amplify configuration
├── package.json           # Dependencies and scripts
├── .env-template          # Environment variables template
└── README.md             # This file
```

## Key Features

- **Authentication**: Integrated with AWS Cognito for secure user management
- **Responsive Design**: Built with AWS Cloudscape Design System
- **Real-time Monitoring**: Dashboard for active stream monitoring
- **Configuration Management**: Interface for managing moderation settings
- **Multi-page Navigation**: Organized into Overview, Monitoring, and Configuration sections

## Troubleshooting

### Common Issues

1. **Authentication Errors**: Verify Cognito configuration in `.env` file
2. **API Connection Issues**: Check API Gateway URL and CORS settings
3. **Build Failures**: Ensure all dependencies are installed with `npm install`
4. **Deployment Issues**: Verify AWS CLI configuration and S3 bucket permissions

### Environment Variables Missing
If you see errors about missing environment variables, ensure your `.env` file is properly configured with all required AWS resource identifiers.

## Next Steps

To continue development, consider:
- Adding unit tests for components
- Implementing error boundaries
- Adding logging and monitoring
- Configuring CI/CD pipelines

